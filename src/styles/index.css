/**
 * UniClub â€” iOS 26 Liquid Glass Design System
 */

:root {
  --sp-2: 2px; --sp-4: 4px; --sp-8: 8px; --sp-12: 12px; --sp-16: 16px;
  --sp-20: 20px; --sp-24: 24px; --sp-32: 32px; --sp-40: 40px; --sp-48: 48px;
  --blue: #007AFF; --green: #30D158; --orange: #FF9F0A; --red: #FF453A;
  --purple: #BF5AF2; --indigo: #5E5CE6; --cyan: #64D2FF; --pink: #FF375F;
  --bg-primary: #F2F2F7; --bg-secondary: #FFFFFF; --bg-tertiary: #E5E5EA;
  --glass-bg: rgba(255, 255, 255, 0.65); --glass-bg-thick: rgba(255, 255, 255, 0.85);
  --glass-bg-thin: rgba(255, 255, 255, 0.45); --glass-border: rgba(255, 255, 255, 0.5);
  --glass-border-subtle: rgba(255, 255, 255, 0.25); --glass-shadow: rgba(0, 0, 0, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.8); --glass-refract: rgba(255, 255, 255, 0.15);
  --text-primary: rgba(0, 0, 0, 0.85); --text-secondary: rgba(60, 60, 67, 0.85);
  --text-tertiary: rgba(60, 60, 67, 0.5); --fill-primary: rgba(120, 120, 128, 0.2);
  --fill-secondary: rgba(120, 120, 128, 0.12); --fill-tertiary: rgba(120, 120, 128, 0.08);
  --separator: rgba(60, 60, 67, 0.1);
  --radius-sm: 12px; --radius-md: 16px; --radius-lg: 22px; --radius-xl: 28px;
  --radius-2xl: 36px; --radius-full: 9999px;
  --font: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
  --text-xs: 11px; --text-sm: 13px; --text-base: 15px; --text-md: 17px;
  --text-lg: 20px; --text-xl: 22px; --text-2xl: 28px; --text-3xl: 34px;
  --safe-top: env(safe-area-inset-top, 0px); --safe-bottom: env(safe-area-inset-bottom, 0px);
  --tab-bar-height: 90px; --sidebar-width: 280px;
  --ease-liquid: cubic-bezier(0.4, 0, 0.2, 1); --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --duration-fast: 0.15s; --duration-normal: 0.25s; --duration-slow: 0.4s;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #000000; --bg-secondary: #1C1C1E; --bg-tertiary: #2C2C2E;
    --glass-bg: rgba(44, 44, 46, 0.65); --glass-bg-thick: rgba(44, 44, 46, 0.85);
    --glass-bg-thin: rgba(44, 44, 46, 0.45); --glass-border: rgba(255, 255, 255, 0.15);
    --glass-border-subtle: rgba(255, 255, 255, 0.08); --glass-shadow: rgba(0, 0, 0, 0.35);
    --glass-highlight: rgba(255, 255, 255, 0.12); --glass-refract: rgba(255, 255, 255, 0.06);
    --text-primary: rgba(255, 255, 255, 0.92); --text-secondary: rgba(235, 235, 245, 0.7);
    --text-tertiary: rgba(235, 235, 245, 0.4); --fill-primary: rgba(120, 120, 128, 0.36);
    --fill-secondary: rgba(120, 120, 128, 0.28); --fill-tertiary: rgba(120, 120, 128, 0.2);
    --separator: rgba(84, 84, 88, 0.6);
  }
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
html { font-family: var(--font); -webkit-font-smoothing: antialiased; }
body { background: var(--bg-primary); color: var(--text-primary); min-height: 100dvh; line-height: 1.4; }

.app-layout { display: flex; min-height: 100dvh; }

.sidebar { width: var(--sidebar-width); height: 100dvh; position: fixed; left: 0; top: 0; padding: var(--sp-16); z-index: 100; }
.sidebar-inner { height: 100%; display: flex; flex-direction: column; background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-xl); border: 1px solid var(--glass-border); box-shadow: 0 12px 40px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); overflow: hidden; }
.sidebar-header { padding: var(--sp-24); border-bottom: 1px solid var(--separator); }
.sidebar-logo { display: flex; align-items: center; gap: var(--sp-12); }
.sidebar-logo-icon { width: 48px; height: 48px; background: linear-gradient(145deg, var(--blue), var(--indigo)); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3); }
.sidebar-logo-text { font-size: var(--text-xl); font-weight: 700; letter-spacing: -0.02em; }
.sidebar-nav { flex: 1; padding: var(--sp-12); overflow-y: auto; }
.sidebar-nav-item { display: flex; align-items: center; gap: var(--sp-12); padding: var(--sp-12) var(--sp-16); border-radius: var(--radius-md); color: var(--text-secondary); cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); margin-bottom: var(--sp-4); }
.sidebar-nav-item:hover { background: var(--fill-tertiary); color: var(--text-primary); }
.sidebar-nav-item.active { background: linear-gradient(145deg, var(--blue), var(--indigo)); color: white; box-shadow: 0 4px 16px rgba(0, 122, 255, 0.35); }
.nav-icon { font-size: 20px; width: 24px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.nav-label { font-size: var(--text-md); font-weight: 500; }
.sidebar-footer { padding: var(--sp-12); border-top: 1px solid var(--separator); }

.main-content { flex: 1; margin-left: var(--sidebar-width); min-height: 100dvh; padding: var(--sp-24); padding-bottom: var(--sp-48); }
@media (max-width: 1024px) { .sidebar { display: none; } .main-content { margin-left: 0; padding: var(--sp-16); padding-bottom: calc(var(--tab-bar-height) + var(--safe-bottom) + var(--sp-24)); } }

.tab-bar { position: fixed; bottom: var(--sp-20); left: 50%; transform: translateX(-50%); display: flex; align-items: center; gap: var(--sp-4); padding: var(--sp-8); background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-2xl); border: 1px solid var(--glass-border); box-shadow: 0 12px 40px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); z-index: 1000; margin-bottom: var(--safe-bottom); }
.tab-bar-item { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: var(--sp-8) var(--sp-16); border-radius: var(--radius-lg); cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); min-width: 64px; background: transparent; border: none; color: var(--text-tertiary); }
.tab-bar-item:active { transform: scale(0.9); }
.tab-bar-item.active { color: white; background: linear-gradient(145deg, var(--blue), var(--indigo)); box-shadow: 0 4px 12px rgba(0, 122, 255, 0.35); }
.tab-bar-icon { font-size: 24px; height: 26px; display: flex; align-items: center; justify-content: center; }
.tab-bar-label { font-size: var(--text-xs); font-weight: 600; margin-top: var(--sp-2); }
@media (min-width: 1025px) { .tab-bar { display: none; } }

.mobile-header { position: sticky; top: 0; z-index: 100; padding-top: calc(var(--safe-top) + var(--sp-12)); padding-bottom: var(--sp-16); padding-left: var(--sp-20); padding-right: var(--sp-20); background: var(--glass-bg); backdrop-filter: blur(40px) saturate(180%); -webkit-backdrop-filter: blur(40px) saturate(180%); border-bottom: 1px solid var(--separator); margin: calc(-1 * var(--sp-16)); margin-bottom: var(--sp-20); }
.mobile-header-content { display: flex; align-items: flex-end; justify-content: space-between; gap: var(--sp-16); min-height: 44px; }
.mobile-header-left { display: flex; align-items: center; gap: var(--sp-12); }
.mobile-header-title { font-size: var(--text-3xl); font-weight: 700; letter-spacing: -0.025em; line-height: 1.1; }
.mobile-header-subtitle { font-size: var(--text-base); color: var(--text-tertiary); margin-top: var(--sp-4); }
.mobile-header-actions { display: flex; gap: var(--sp-8); flex-shrink: 0; }
.mobile-header-search { margin-top: var(--sp-12); }
@media (min-width: 1025px) { .mobile-header { display: none; } }

.page-header { margin-bottom: var(--sp-24); }
.page-header h1 { font-size: 40px; font-weight: 700; letter-spacing: -0.025em; }
.page-header-content { display: flex; align-items: center; justify-content: space-between; gap: var(--sp-16); }
.page-header-subtitle { font-size: var(--text-base); color: var(--text-secondary); margin-top: var(--sp-4); }
.page-header-search { margin-top: var(--sp-16); max-width: 320px; }
@media (max-width: 1024px) { .page-header { display: none; } }

.card { background: var(--glass-bg); backdrop-filter: blur(40px) saturate(180%); -webkit-backdrop-filter: blur(40px) saturate(180%); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); padding: var(--sp-16); box-shadow: 0 8px 32px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); transition: transform var(--duration-normal) var(--ease-liquid), box-shadow var(--duration-normal) var(--ease-liquid); }
.card:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 16px 48px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); }
.card-pressable { cursor: pointer; }
.card-pressable:active { transform: scale(0.98); }
.card-header { display: flex; gap: var(--sp-12); align-items: flex-start; }
.card-icon { width: 52px; height: 52px; border-radius: var(--radius-md); background: var(--fill-secondary); display: flex; align-items: center; justify-content: center; font-size: 26px; flex-shrink: 0; }
.card-icon.subscribed { background: linear-gradient(145deg, var(--green), #25a244); box-shadow: 0 4px 12px rgba(48, 209, 88, 0.3); }
.card-info { flex: 1; min-width: 0; }
.card-title { font-size: var(--text-md); font-weight: 600; line-height: 1.3; display: flex; align-items: center; gap: var(--sp-8); flex-wrap: wrap; }
.card-description { font-size: var(--text-base); color: var(--text-secondary); line-height: 1.45; margin-top: var(--sp-4); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.card-meta { display: flex; flex-wrap: wrap; gap: var(--sp-12); margin-top: var(--sp-8); font-size: var(--text-sm); color: var(--text-tertiary); }
.card-meta-item { display: flex; align-items: center; gap: var(--sp-4); }
.card-footer { display: flex; gap: var(--sp-8); margin-top: var(--sp-16); padding-top: var(--sp-16); border-top: 1px solid var(--separator); }
.cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: var(--sp-16); }
@media (max-width: 480px) { .cards-grid { grid-template-columns: 1fr; gap: var(--sp-12); } }

.btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--sp-8); height: 48px; padding: 0 var(--sp-24); font-size: var(--text-md); font-weight: 600; font-family: var(--font); border-radius: var(--radius-md); border: none; cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); white-space: nowrap; }
.btn:active { transform: scale(0.95); }
.btn:disabled { opacity: 0.5; pointer-events: none; }
.btn-primary { background: linear-gradient(145deg, var(--blue), var(--indigo)); color: white; box-shadow: 0 4px 16px rgba(0, 122, 255, 0.35); }
.btn-primary:hover { box-shadow: 0 6px 24px rgba(0, 122, 255, 0.45); }
.btn-secondary { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border); color: var(--blue); }
.btn-danger { background: linear-gradient(145deg, var(--red), #d62828); color: white; box-shadow: 0 4px 16px rgba(255, 69, 58, 0.35); }
.btn-glass { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border); color: var(--text-primary); }
.btn-icon { width: 48px; height: 48px; padding: 0; border-radius: var(--radius-full); }
.btn-small { height: 40px; padding: 0 var(--sp-16); font-size: var(--text-base); border-radius: var(--radius-sm); }
.btn-full { width: 100%; }

.input { width: 100%; height: 48px; padding: 0 var(--sp-16); font-size: var(--text-md); font-family: var(--font); color: var(--text-primary); background: var(--glass-bg-thin); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 2px solid transparent; border-radius: var(--radius-md); outline: none; transition: all var(--duration-fast) var(--ease-liquid); }
.input:focus { background: var(--glass-bg); border-color: var(--blue); box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.15); }
.input::placeholder { color: var(--text-tertiary); }
.textarea { height: auto; min-height: 120px; padding: var(--sp-12) var(--sp-16); resize: vertical; line-height: 1.5; }
.form-field { margin-bottom: var(--sp-16); }
.form-label { display: block; font-size: var(--text-base); font-weight: 500; color: var(--text-secondary); margin-bottom: var(--sp-8); }
.form-error { font-size: var(--text-sm); color: var(--red); margin-top: var(--sp-4); }
.form-select { width: 100%; height: 48px; padding: 0 var(--sp-40) 0 var(--sp-16); font-size: var(--text-md); font-family: var(--font); color: var(--text-primary); background: var(--glass-bg-thin); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 2px solid transparent; border-radius: var(--radius-md); outline: none; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12'%3E%3Cpath fill='%238E8E93' d='M6 8L1 3h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 16px center; cursor: pointer; }
.form-select:focus { background-color: var(--glass-bg); border-color: var(--blue); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--sp-16); }
.search-input-wrapper { position: relative; display: flex; align-items: center; gap: var(--sp-8); background: var(--glass-bg-thin); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); padding: 0 var(--sp-12); height: 44px; border: 1px solid var(--glass-border-subtle); }
.search-input-wrapper svg { flex-shrink: 0; }
.search-input { flex: 1; border: none; background: transparent; font-size: var(--text-md); font-family: var(--font); color: var(--text-primary); outline: none; height: 100%; }
.search-input::placeholder { color: var(--text-tertiary); }
.input-with-icon { position: relative; display: flex; align-items: center; }
.input-with-icon svg { position: absolute; left: 16px; pointer-events: none; z-index: 1; }
.input.input-icon { padding-left: 48px; }

.stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--sp-12); margin-bottom: var(--sp-24); }
@media (min-width: 768px) { .stats-grid { grid-template-columns: repeat(4, 1fr); gap: var(--sp-16); } }
.stat-card { background: var(--glass-bg); backdrop-filter: blur(40px) saturate(180%); -webkit-backdrop-filter: blur(40px) saturate(180%); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); padding: var(--sp-16); text-align: center; box-shadow: 0 8px 24px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); }
.stat-icon { width: 52px; height: 52px; margin: 0 auto var(--sp-12); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 26px; }
.stat-icon.blue { background: linear-gradient(145deg, var(--blue), var(--indigo)); box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3); }
.stat-icon.green { background: linear-gradient(145deg, var(--green), #25a244); box-shadow: 0 4px 12px rgba(48, 209, 88, 0.3); }
.stat-icon.orange { background: linear-gradient(145deg, var(--orange), #f77f00); box-shadow: 0 4px 12px rgba(255, 159, 10, 0.3); }
.stat-icon.purple { background: linear-gradient(145deg, var(--purple), var(--pink)); box-shadow: 0 4px 12px rgba(191, 90, 242, 0.3); }
.stat-value { font-size: var(--text-2xl); font-weight: 700; letter-spacing: -0.02em; }
.stat-label { font-size: var(--text-sm); color: var(--text-secondary); margin-top: var(--sp-4); }

.list-section { background: var(--glass-bg); backdrop-filter: blur(40px) saturate(180%); -webkit-backdrop-filter: blur(40px) saturate(180%); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); overflow: hidden; box-shadow: 0 8px 24px var(--glass-shadow), inset 0 1px 0 var(--glass-highlight); }
.list-item { display: flex; align-items: center; gap: var(--sp-12); padding: var(--sp-12) var(--sp-16); cursor: pointer; transition: background var(--duration-fast); }
.list-item:not(:last-child) { border-bottom: 1px solid var(--separator); }
.list-item:active { background: var(--fill-tertiary); }
.list-item-icon { width: 40px; height: 40px; border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; font-size: 20px; background: var(--fill-secondary); flex-shrink: 0; }
.list-item-content { flex: 1; min-width: 0; }
.list-item-title { font-size: var(--text-md); font-weight: 500; line-height: 1.3; }
.list-item-subtitle { font-size: var(--text-sm); color: var(--text-tertiary); margin-top: var(--sp-2); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.list-item-chevron { font-size: 18px; color: var(--text-tertiary); flex-shrink: 0; }
.list-item-accessory { display: flex; align-items: center; gap: var(--sp-8); flex-shrink: 0; }

.section { margin-bottom: var(--sp-24); }
.section-title { font-size: var(--text-lg); font-weight: 600; margin-bottom: var(--sp-12); padding-left: var(--sp-4); }
.section-content { background: var(--glass-bg); backdrop-filter: blur(40px) saturate(180%); -webkit-backdrop-filter: blur(40px) saturate(180%); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); padding: var(--sp-16); }

.badge { display: inline-flex; align-items: center; height: 24px; padding: 0 var(--sp-12); font-size: var(--text-xs); font-weight: 600; border-radius: var(--radius-full); background: var(--fill-secondary); color: var(--text-secondary); }
.badge-blue { background: rgba(0, 122, 255, 0.15); color: var(--blue); }
.badge-green { background: rgba(48, 209, 88, 0.15); color: var(--green); }
.badge-orange { background: rgba(255, 159, 10, 0.15); color: var(--orange); }
.badge-red { background: rgba(255, 69, 58, 0.15); color: var(--red); }
.badge-purple { background: rgba(191, 90, 242, 0.15); color: var(--purple); }

.filter-tabs { display: flex; gap: var(--sp-4); padding: var(--sp-4); background: var(--glass-bg-thin); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); overflow-x: auto; -webkit-overflow-scrolling: touch; margin-bottom: var(--sp-16); border: 1px solid var(--glass-border-subtle); }
.filter-tabs::-webkit-scrollbar { display: none; }
.filter-tab { height: 36px; padding: 0 var(--sp-16); font-size: var(--text-base); font-weight: 500; font-family: var(--font); color: var(--text-secondary); background: transparent; border: none; border-radius: var(--radius-sm); cursor: pointer; white-space: nowrap; transition: all var(--duration-fast) var(--ease-liquid); }
.filter-tab:active { transform: scale(0.96); }
.filter-tab.active { background: var(--glass-bg-thick); color: var(--text-primary); box-shadow: 0 2px 8px var(--glass-shadow); }

.modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); display: flex; align-items: flex-end; justify-content: center; z-index: 2000; padding: var(--sp-8); animation: fadeIn var(--duration-normal) var(--ease-liquid); }
@media (min-width: 768px) { .modal-overlay { align-items: center; padding: var(--sp-24); } }
.modal { width: 100%; max-width: 100%; max-height: 92vh; background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-xl) var(--radius-xl) 0 0; border: 1px solid var(--glass-border); overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 -8px 40px var(--glass-shadow); animation: slideUp var(--duration-slow) var(--ease-bounce); }
@media (min-width: 768px) { .modal { max-width: 480px; border-radius: var(--radius-xl); animation: scaleIn var(--duration-normal) var(--ease-liquid); } }
.modal-handle { width: 36px; height: 5px; background: var(--fill-primary); border-radius: var(--radius-full); margin: var(--sp-8) auto; flex-shrink: 0; }
@media (min-width: 768px) { .modal-handle { display: none; } }
.modal-header { display: flex; align-items: center; justify-content: space-between; padding: var(--sp-16) var(--sp-20); border-bottom: 1px solid var(--separator); flex-shrink: 0; }
.modal-title { font-size: var(--text-lg); font-weight: 600; }
.modal-close { width: 32px; height: 32px; border-radius: var(--radius-full); background: var(--fill-secondary); border: none; font-size: 18px; color: var(--text-secondary); cursor: pointer; display: flex; align-items: center; justify-content: center; }
.modal-close:active { background: var(--fill-primary); }
.modal-body { padding: var(--sp-20); overflow-y: auto; flex: 1; overscroll-behavior: contain; }
.modal-footer { padding: var(--sp-16) var(--sp-20); padding-bottom: calc(var(--sp-16) + var(--safe-bottom)); border-top: 1px solid var(--separator); display: flex; gap: var(--sp-12); flex-shrink: 0; }
.modal-footer .btn { flex: 1; }
.confirm-modal { background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-xl); border: 1px solid var(--glass-border); padding: var(--sp-24); text-align: center; max-width: 300px; width: 100%; box-shadow: 0 16px 48px var(--glass-shadow); animation: scaleIn var(--duration-normal) var(--ease-bounce); }
.confirm-icon { font-size: 52px; margin-bottom: var(--sp-16); }
.confirm-title { font-size: var(--text-lg); font-weight: 600; margin-bottom: var(--sp-8); }
.confirm-message { font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--sp-24); line-height: 1.5; }
.confirm-actions { display: flex; flex-direction: column; gap: var(--sp-8); }

.spinner { width: 32px; height: 32px; border: 3px solid var(--fill-secondary); border-top-color: var(--blue); border-radius: var(--radius-full); animation: spin 0.8s linear infinite; }
.loading-spinner { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 50vh; gap: var(--sp-16); }
.loading-text { font-size: var(--text-base); color: var(--text-secondary); }
.skeleton { background: linear-gradient(90deg, var(--fill-tertiary) 0%, var(--fill-secondary) 50%, var(--fill-tertiary) 100%); background-size: 200% 100%; animation: skeleton 1.5s ease-in-out infinite; border-radius: var(--radius-sm); }
.skeleton-card { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); padding: var(--sp-16); }
.skeleton-avatar { width: 48px; height: 48px; border-radius: var(--radius-full); }
.skeleton-text { height: 16px; margin-bottom: var(--sp-8); }

.empty-state { text-align: center; padding: var(--sp-48) var(--sp-24); }
.empty-state-icon { width: 88px; height: 88px; margin: 0 auto var(--sp-16); background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-full); border: 1px solid var(--glass-border); display: flex; align-items: center; justify-content: center; font-size: 44px; }
.empty-state-title { font-size: var(--text-xl); font-weight: 600; margin-bottom: var(--sp-8); }
.empty-state-text { font-size: var(--text-md); color: var(--text-secondary); margin-bottom: var(--sp-24); max-width: 280px; margin-left: auto; margin-right: auto; line-height: 1.5; }

.notification-container { position: fixed; top: calc(var(--safe-top) + var(--sp-16)); left: var(--sp-16); right: var(--sp-16); z-index: 3000; display: flex; flex-direction: column; gap: var(--sp-8); pointer-events: none; }
@media (min-width: 768px) { .notification-container { left: 50%; right: auto; transform: translateX(-50%); width: 400px; } }
.notification { background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-lg); border: 1px solid var(--glass-border); box-shadow: 0 12px 40px var(--glass-shadow); padding: var(--sp-12) var(--sp-16); display: flex; align-items: center; gap: var(--sp-12); animation: toastIn var(--duration-slow) var(--ease-bounce); cursor: pointer; pointer-events: auto; }
.notification-icon { width: 36px; height: 36px; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; flex-shrink: 0; }
.notification-success .notification-icon { background: rgba(48, 209, 88, 0.15); color: var(--green); }
.notification-error .notification-icon { background: rgba(255, 69, 58, 0.15); color: var(--red); }
.notification-info .notification-icon { background: rgba(0, 122, 255, 0.15); color: var(--blue); }
.notification-content { flex: 1; min-width: 0; }
.notification-title { font-size: var(--text-base); font-weight: 600; }
.notification-message { font-size: var(--text-sm); color: var(--text-secondary); margin-top: var(--sp-2); }

.toggle { width: 51px; height: 31px; border-radius: 15.5px; background: var(--fill-primary); border: none; padding: 2px; cursor: pointer; transition: background var(--duration-normal) var(--ease-liquid); position: relative; }
.toggle-on { background: var(--green); }
.toggle-thumb { width: 27px; height: 27px; border-radius: 50%; background: white; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); display: block; transition: transform var(--duration-normal) var(--ease-bounce); }
.toggle-on .toggle-thumb { transform: translateX(20px); }
.toggle-disabled { opacity: 0.5; pointer-events: none; }

.login-page { min-height: 100dvh; display: flex; align-items: center; justify-content: center; padding: var(--sp-24); background: linear-gradient(145deg, #667eea 0%, #764ba2 50%, #f093fb 100%); background-size: 400% 400%; animation: gradientShift 15s ease infinite; }
.login-card { width: 100%; max-width: 400px; background: var(--glass-bg-thick); backdrop-filter: blur(60px) saturate(200%); -webkit-backdrop-filter: blur(60px) saturate(200%); border-radius: var(--radius-xl); border: 1px solid var(--glass-border); padding: var(--sp-32); box-shadow: 0 24px 64px rgba(0, 0, 0, 0.2); animation: scaleIn var(--duration-slow) var(--ease-bounce); }
.login-header { text-align: center; margin-bottom: var(--sp-32); }
.login-logo { width: 80px; height: 80px; margin: 0 auto var(--sp-16); background: linear-gradient(145deg, var(--blue), var(--indigo)); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 40px; box-shadow: 0 8px 24px rgba(0, 122, 255, 0.35); }
.login-title { font-size: var(--text-2xl); font-weight: 700; }
.login-subtitle { font-size: var(--text-base); color: var(--text-secondary); margin-top: var(--sp-4); }
.login-form { display: flex; flex-direction: column; gap: var(--sp-16); }
.login-error { background: rgba(255, 69, 58, 0.1); color: var(--red); padding: var(--sp-12) var(--sp-16); border-radius: var(--radius-md); font-size: var(--text-base); text-align: center; margin-bottom: var(--sp-8); border: 1px solid rgba(255, 69, 58, 0.2); }
.login-demo { margin-top: var(--sp-24); text-align: center; }
.login-demo p { font-size: var(--text-sm); color: var(--text-tertiary); margin-bottom: var(--sp-12); }
.demo-accounts { display: flex; gap: var(--sp-8); }
.demo-btn { flex: 1; height: 44px; background: var(--glass-bg-thin); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--glass-border-subtle); border-radius: var(--radius-md); font-size: var(--text-sm); font-family: var(--font); color: var(--text-secondary); cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); }
.demo-btn:active { background: var(--fill-secondary); transform: scale(0.96); }

.profile-header { display: flex; flex-direction: column; align-items: center; text-align: center; padding: var(--sp-32) var(--sp-16); }
.profile-avatar { width: 96px; height: 96px; border-radius: var(--radius-full); background: linear-gradient(145deg, var(--blue), var(--indigo)); display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: 600; color: white; margin-bottom: var(--sp-16); box-shadow: 0 8px 24px rgba(0, 122, 255, 0.35); }
.profile-name { font-size: var(--text-xl); font-weight: 600; }
.profile-email { font-size: var(--text-base); color: var(--text-secondary); margin-top: var(--sp-4); margin-bottom: var(--sp-12); }
.profile-actions { margin-top: var(--sp-32); }

.schedule-group-selector { margin-bottom: var(--sp-16); }
.schedule-group-info { text-align: center; margin-bottom: var(--sp-16); }
.schedule-group-name { font-size: var(--text-lg); font-weight: 600; }
.schedule-group-faculty { font-size: var(--text-sm); color: var(--text-tertiary); margin-top: var(--sp-4); margin-bottom: var(--sp-8); }
.schedule-day-title { font-size: var(--text-md); font-weight: 600; text-align: center; margin-bottom: var(--sp-16); color: var(--text-secondary); }
.schedule-list { display: flex; flex-direction: column; gap: var(--sp-8); }
.schedule-item { display: flex; gap: var(--sp-12); padding: var(--sp-12) var(--sp-16); background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-md); border: 1px solid var(--glass-border-subtle); cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); }
.schedule-item:active { background: var(--fill-tertiary); transform: scale(0.98); }
.schedule-time { display: flex; flex-direction: column; align-items: flex-end; min-width: 52px; flex-shrink: 0; }
.schedule-time-start { font-size: var(--text-base); font-weight: 600; }
.schedule-time-end { font-size: var(--text-xs); color: var(--text-tertiary); }
.schedule-content { flex: 1; border-left: 3px solid var(--blue); padding-left: var(--sp-12); min-width: 0; }
.schedule-subject { font-size: var(--text-md); font-weight: 500; }
.schedule-details { font-size: var(--text-sm); color: var(--text-tertiary); display: flex; flex-wrap: wrap; gap: var(--sp-8); margin-top: var(--sp-4); }
.schedule-type-badge { background: var(--fill-secondary); padding: var(--sp-2) var(--sp-8); border-radius: var(--radius-full); font-size: var(--text-xs); }
.schedule-delete { background: none; border: none; font-size: 16px; color: var(--red); cursor: pointer; padding: var(--sp-4); flex-shrink: 0; }

.structure-list { display: flex; flex-direction: column; gap: var(--sp-8); }
.structure-item { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-md); border: 1px solid var(--glass-border-subtle); overflow: hidden; }
.structure-header { display: flex; align-items: center; gap: var(--sp-12); padding: var(--sp-12) var(--sp-16); cursor: pointer; transition: background var(--duration-fast); }
.structure-header:active { background: var(--fill-tertiary); }
.structure-expand { font-size: 10px; color: var(--text-tertiary); width: 16px; flex-shrink: 0; }
.structure-icon { font-size: 22px; flex-shrink: 0; }
.structure-info { flex: 1; min-width: 0; }
.structure-name { font-size: var(--text-md); font-weight: 500; }
.structure-meta { font-size: var(--text-sm); color: var(--text-tertiary); display: flex; gap: var(--sp-12); margin-top: var(--sp-2); }
.structure-code { font-weight: 500; color: var(--blue); }
.structure-actions { display: flex; gap: var(--sp-4); flex-shrink: 0; }
.structure-btn { background: none; border: none; font-size: 16px; cursor: pointer; padding: var(--sp-4); }
.structure-children { padding: 0 var(--sp-16) var(--sp-16); padding-left: var(--sp-32); }
.structure-add-btn { width: 100%; height: 40px; background: var(--fill-tertiary); border: none; border-radius: var(--radius-sm); font-size: var(--text-sm); font-family: var(--font); color: var(--blue); cursor: pointer; margin-bottom: var(--sp-8); transition: background var(--duration-fast); }
.structure-add-btn:active { background: var(--fill-secondary); }
.structure-empty { font-size: var(--text-sm); color: var(--text-tertiary); text-align: center; padding: var(--sp-16); }
.direction-item, .group-item { margin-top: var(--sp-8); background: var(--fill-tertiary); border: none; }

.users-list { display: flex; flex-direction: column; gap: var(--sp-8); }
.user-item { display: flex; align-items: center; gap: var(--sp-12); padding: var(--sp-12) var(--sp-16); background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-md); border: 1px solid var(--glass-border-subtle); cursor: pointer; transition: all var(--duration-fast) var(--ease-liquid); }
.user-item:active { background: var(--fill-tertiary); transform: scale(0.98); }
.user-avatar-large { width: 52px; height: 52px; border-radius: var(--radius-full); background: linear-gradient(145deg, var(--blue), var(--indigo)); display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: 600; color: white; flex-shrink: 0; box-shadow: 0 4px 12px rgba(0, 122, 255, 0.25); }
.user-details { flex: 1; min-width: 0; }
.user-name-row { display: flex; align-items: center; gap: var(--sp-8); flex-wrap: wrap; }
.user-full-name { font-size: var(--text-md); font-weight: 500; }
.user-email { font-size: var(--text-sm); color: var(--text-tertiary); margin-top: var(--sp-2); }
.user-group { font-size: var(--text-xs); color: var(--text-tertiary); margin-top: var(--sp-2); }
.user-delete-btn { background: none; border: none; font-size: 18px; cursor: pointer; padding: var(--sp-8); flex-shrink: 0; }

.info-banner { display: flex; align-items: center; gap: var(--sp-12); padding: var(--sp-16); background: rgba(0, 122, 255, 0.08); border-radius: var(--radius-md); margin-bottom: var(--sp-24); border: 1px solid rgba(0, 122, 255, 0.15); }
.info-banner-icon { font-size: 28px; flex-shrink: 0; }
.info-banner-content { flex: 1; min-width: 0; }
.info-banner-title { font-size: var(--text-md); font-weight: 600; }
.info-banner-subtitle { font-size: var(--text-sm); color: var(--text-secondary); margin-top: var(--sp-2); }

.icon-picker { display: flex; flex-wrap: wrap; gap: var(--sp-8); }
.icon-option { width: 48px; height: 48px; border-radius: var(--radius-md); background: var(--fill-tertiary); border: 2px solid transparent; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all var(--duration-fast) var(--ease-liquid); }
.icon-option:hover { background: var(--fill-secondary); }
.icon-option.active { border-color: var(--blue); background: rgba(0, 122, 255, 0.1); }

.grid-2 { display: grid; grid-template-columns: 1fr; gap: var(--sp-24); }
@media (min-width: 768px) { .grid-2 { grid-template-columns: repeat(2, 1fr); } }

.offline-banner { position: fixed; top: calc(var(--safe-top) + var(--sp-8)); left: var(--sp-16); right: var(--sp-16); padding: var(--sp-12) var(--sp-16); background: linear-gradient(145deg, var(--orange), #f77f00); color: white; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; gap: var(--sp-8); font-size: var(--text-base); font-weight: 500; z-index: 2000; box-shadow: 0 4px 16px rgba(255, 159, 10, 0.35); animation: slideDown var(--duration-slow) var(--ease-bounce); }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(100%); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideDown { from { opacity: 0; transform: translateY(-100%); } to { opacity: 1; transform: translateY(0); } }
@keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes skeleton { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
@keyframes toastIn { from { opacity: 0; transform: translateY(-20px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

@media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; } }
@media print { .tab-bar, .sidebar, .mobile-header, .notification-container, .offline-banner { display: none !important; } .main-content { margin: 0 !important; padding: 0 !important; } }
