/**
 * UniClub â€” iOS Design System (Optimized)
 * Production-ready with GPU acceleration
 */

:root {
  --ios-blue: #007AFF;
  --ios-green: #34C759;
  --ios-orange: #FF9500;
  --ios-red: #FF3B30;
  --ios-purple: #AF52DE;
  --ios-pink: #FF2D55;
  --ios-teal: #5AC8FA;
  --ios-indigo: #5856D6;

  --bg-primary: #F2F2F7;
  --bg-secondary: #FFFFFF;
  --bg-tertiary: #E5E5EA;
  --label-primary: #000000;
  --label-secondary: #3C3C43;
  --label-tertiary: #3C3C4399;
  --label-quaternary: #3C3C434D;
  --separator: #3C3C4349;
  --fill-primary: #78788033;
  --fill-secondary: #78788029;
  --fill-tertiary: #7676801F;

  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.12);
  --shadow-card: 0 1px 3px rgba(0,0,0,0.06);

  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-full: 9999px;

  --font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
  --font-size-caption: 12px;
  --font-size-footnote: 13px;
  --font-size-subhead: 15px;
  --font-size-body: 17px;
  --font-size-title3: 20px;
  --font-size-title2: 22px;
  --font-size-title1: 28px;

  --sidebar-width: 280px;
  --tab-bar-height: 83px;
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-top: env(safe-area-inset-top, 0px);

  --ease-spring: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --duration-fast: 150ms;
  --duration-normal: 250ms;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #000000;
    --bg-secondary: #1C1C1E;
    --bg-tertiary: #2C2C2E;
    --label-primary: #FFFFFF;
    --label-secondary: #EBEBF5;
    --label-tertiary: #EBEBF599;
    --label-quaternary: #EBEBF54D;
    --separator: #54545899;
    --fill-primary: #7878804D;
    --fill-secondary: #78788040;
    --fill-tertiary: #7676802E;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
    --shadow-md: 0 2px 8px rgba(0,0,0,0.4);
    --shadow-lg: 0 4px 16px rgba(0,0,0,0.5);
    --shadow-card: 0 1px 3px rgba(0,0,0,0.3);
  }
}

/* GPU Optimization */
.card,.modal,.tab-bar,.notification,.nav-item,.tab-bar-item,.btn{will-change:transform;transform:translateZ(0);backface-visibility:hidden}
.page-content{contain:layout style}
.cards-grid,.list-section{contain:layout}
.card,.list-item,.schedule-item,.user-item{content-visibility:auto;contain-intrinsic-size:0 80px}

/* Base */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html{font-size:16px;-webkit-text-size-adjust:100%}
body{font-family:var(--font-family);font-size:var(--font-size-body);line-height:1.47;color:var(--label-primary);background:var(--bg-primary);-webkit-font-smoothing:antialiased;overflow-x:hidden;overscroll-behavior:none}
html,body,#root{height:100%}

/* Layout */
.app-layout{display:flex;height:100%;overflow:hidden}
.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;background:var(--bg-primary);min-width:0}
.page-content{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--spacing-md);padding-bottom:calc(var(--spacing-md) + var(--safe-area-bottom));-webkit-overflow-scrolling:touch}
@media(max-width:768px){.page-content{padding-bottom:calc(var(--tab-bar-height) + var(--spacing-md))}}

/* Sidebar */
.sidebar{width:var(--sidebar-width);height:100%;background:var(--bg-secondary);border-right:1px solid var(--separator);display:flex;flex-direction:column;flex-shrink:0}
@media(max-width:768px){.sidebar{display:none}}
.sidebar-header{padding:var(--spacing-lg) var(--spacing-md);border-bottom:1px solid var(--separator)}
.sidebar-brand{display:flex;align-items:center;gap:var(--spacing-md)}
.sidebar-logo{width:48px;height:48px;background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:var(--shadow-md)}
.sidebar-title h2{font-size:var(--font-size-title3);font-weight:700;letter-spacing:-0.02em}
.sidebar-title p{font-size:var(--font-size-caption);color:var(--label-secondary);margin-top:2px}
.sidebar-nav{flex:1;overflow-y:auto;padding:var(--spacing-md) 0}
.nav-section{padding:0 var(--spacing-sm)}
.nav-section-title{font-size:var(--font-size-caption);font-weight:600;color:var(--label-tertiary);text-transform:uppercase;letter-spacing:0.02em;padding:var(--spacing-sm) var(--spacing-md);margin-bottom:var(--spacing-xs)}
.nav-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);margin:2px 0;border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--duration-fast) var(--ease-smooth),transform var(--duration-fast) var(--ease-smooth);color:var(--label-primary);font-size:var(--font-size-subhead);font-weight:500}
.nav-item:hover{background:var(--fill-tertiary)}
.nav-item:active{transform:scale(0.98)}
.nav-item.active{background:rgba(0,122,255,0.12);color:var(--ios-blue)}
.nav-item-icon{font-size:20px;width:24px;text-align:center}
.sidebar-footer{padding:var(--spacing-md);border-top:1px solid var(--separator);position:relative}
.user-card{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--duration-fast) var(--ease-smooth)}
.user-card:hover{background:var(--fill-tertiary)}
.user-avatar{width:40px;height:40px;border-radius:var(--radius-full);background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));display:flex;align-items:center;justify-content:center;color:white;font-size:var(--font-size-footnote);font-weight:600}
.user-info{flex:1;min-width:0}
.user-name{font-size:var(--font-size-subhead);font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.user-role{font-size:var(--font-size-caption);color:var(--label-secondary)}

/* Tab Bar */
.tab-bar{display:none;position:fixed;bottom:var(--spacing-md);left:var(--spacing-md);right:var(--spacing-md);height:64px;background:rgba(255,255,255,0.85);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-radius:28px;box-shadow:0 4px 24px rgba(0,0,0,0.12),0 0 0 0.5px rgba(0,0,0,0.08);z-index:1000}
@media(prefers-color-scheme:dark){.tab-bar{background:rgba(28,28,30,0.9);box-shadow:0 4px 24px rgba(0,0,0,0.4),0 0 0 0.5px rgba(255,255,255,0.1)}}
@media(max-width:768px){.tab-bar{display:flex;bottom:calc(var(--spacing-md) + var(--safe-area-bottom))}}
.tab-bar-items{display:flex;align-items:center;justify-content:space-around;height:100%;width:100%;padding:0 var(--spacing-sm)}
.tab-bar-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;position:relative;transition:transform var(--duration-fast) var(--ease-bounce)}
.tab-bar-item:active{transform:scale(0.9)}
.tab-bar-item.active::before{content:'';position:absolute;top:4px;width:6px;height:6px;background:var(--ios-blue);border-radius:var(--radius-full);animation:popIn var(--duration-normal) var(--ease-bounce)}
.tab-bar-item-icon{font-size:22px;opacity:0.5;transition:opacity var(--duration-fast) var(--ease-smooth),transform var(--duration-fast) var(--ease-bounce)}
.tab-bar-item.active .tab-bar-item-icon{opacity:1;transform:scale(1.1)}
.tab-bar-item-label{font-size:10px;font-weight:500;color:var(--label-tertiary);transition:color var(--duration-fast) var(--ease-smooth)}
.tab-bar-item.active .tab-bar-item-label{color:var(--ios-blue);font-weight:600}
.tab-bar-avatar{width:24px;height:24px;border-radius:var(--radius-full);background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));display:flex;align-items:center;justify-content:center;color:white;font-size:10px;font-weight:600;transition:transform var(--duration-fast) var(--ease-bounce),box-shadow var(--duration-fast) var(--ease-smooth)}
.tab-bar-item.active .tab-bar-avatar{transform:scale(1.15);box-shadow:0 2px 8px rgba(0,122,255,0.4)}

/* Mobile Header */
.mobile-page-header{display:none;padding:var(--spacing-md);padding-top:calc(var(--spacing-md) + var(--safe-area-top));background:var(--bg-secondary);border-bottom:1px solid var(--separator)}
@media(max-width:768px){.mobile-page-header{display:block}.page-header{display:none}}
.mobile-page-header-top{display:flex;align-items:center;justify-content:space-between}
.mobile-page-title{font-size:var(--font-size-title1);font-weight:700;letter-spacing:-0.02em}
.mobile-page-subtitle{font-size:var(--font-size-footnote);color:var(--label-secondary);margin-top:2px}
.mobile-page-header-actions{display:flex;gap:var(--spacing-sm)}
.mobile-header-btn{width:36px;height:36px;border-radius:var(--radius-full);border:none;background:var(--fill-tertiary);display:flex;align-items:center;justify-content:center;font-size:16px;cursor:pointer;transition:transform var(--duration-fast) var(--ease-bounce),background-color var(--duration-fast) var(--ease-smooth)}
.mobile-header-btn:active{transform:scale(0.92)}
.mobile-header-btn.primary,.mobile-header-btn.active{background:var(--ios-blue);color:white}
.mobile-search-bar{display:flex;align-items:center;gap:var(--spacing-sm);margin-top:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:var(--fill-tertiary);border-radius:var(--radius-md);animation:slideDown var(--duration-normal) var(--ease-spring)}
.mobile-search-icon{font-size:16px;opacity:0.5}
.mobile-search-input{flex:1;border:none;background:transparent;font-size:var(--font-size-body);color:var(--label-primary);outline:none}
.mobile-search-clear{width:20px;height:20px;border-radius:var(--radius-full);border:none;background:var(--fill-secondary);display:flex;align-items:center;justify-content:center;font-size:12px;cursor:pointer;color:var(--label-secondary)}

/* Page Header Desktop */
.page-header{padding:var(--spacing-lg) var(--spacing-md);background:var(--bg-secondary);border-bottom:1px solid var(--separator)}
.page-header-content{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-md)}
.page-header h1{font-size:var(--font-size-title1);font-weight:700;letter-spacing:-0.02em}
.page-header-search{margin-top:var(--spacing-md)}
.page-header-search .input{max-width:320px}

/* Cards */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-md)}
@media(max-width:640px){.cards-grid{grid-template-columns:1fr}}
.card{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-md);box-shadow:var(--shadow-card);animation:fadeIn var(--duration-normal) var(--ease-smooth) both;transition:transform var(--duration-fast) var(--ease-smooth)}
.card-pressable{cursor:pointer}
.card-pressable:active{transform:scale(0.98)}
.card-past{opacity:0.6}
.card-header{display:flex;gap:var(--spacing-md)}
.card-icon{width:48px;height:48px;border-radius:var(--radius-md);background:var(--fill-tertiary);display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0;transition:transform var(--duration-normal) var(--ease-bounce)}
.card-icon.subscribed{background:rgba(52,199,89,0.15)}
.card-info{flex:1;min-width:0}
.card-title{font-size:var(--font-size-body);font-weight:600;margin-bottom:4px;display:flex;align-items:center;gap:var(--spacing-sm)}
.card-description{font-size:var(--font-size-footnote);color:var(--label-secondary);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.card-meta{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);margin-top:var(--spacing-sm)}
.card-meta-item{font-size:var(--font-size-caption);color:var(--label-tertiary);display:flex;align-items:center;gap:4px}
.card-footer{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:1px solid var(--separator)}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:12px 20px;font-size:var(--font-size-subhead);font-weight:600;border-radius:var(--radius-md);border:none;cursor:pointer;transition:transform var(--duration-fast) var(--ease-bounce),opacity var(--duration-fast) var(--ease-smooth)}
.btn:active{transform:scale(0.96)}
.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}
.btn-primary{background:var(--ios-blue);color:white}
.btn-secondary{background:var(--fill-tertiary);color:var(--label-primary)}
.btn-danger{background:var(--ios-red);color:white}
.btn-small{padding:8px 14px;font-size:var(--font-size-footnote)}
.btn-full{width:100%}

/* Forms */
.input,.form-select,.textarea{width:100%;padding:12px var(--spacing-md);font-size:var(--font-size-body);font-family:inherit;color:var(--label-primary);background:var(--fill-tertiary);border:1.5px solid transparent;border-radius:var(--radius-md);outline:none;transition:border-color var(--duration-fast) var(--ease-smooth),background-color var(--duration-fast) var(--ease-smooth)}
.input:focus,.form-select:focus,.textarea:focus{border-color:var(--ios-blue);background:var(--bg-secondary)}
.input::placeholder{color:var(--label-tertiary)}
.textarea{min-height:100px;resize:vertical;line-height:1.5}
.form-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%233C3C43' fill-opacity='0.6' d='M6 8L2 4h8z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:36px}
.form-field{margin-bottom:var(--spacing-md)}
.form-label{display:block;font-size:var(--font-size-footnote);font-weight:600;color:var(--label-secondary);margin-bottom:var(--spacing-sm)}
.form-error{display:block;font-size:var(--font-size-caption);color:var(--ios-red);margin-top:var(--spacing-xs)}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md)}

/* Lists */
.list-section{background:var(--bg-secondary);border-radius:var(--radius-lg);overflow:hidden}
.list-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);border-bottom:1px solid var(--separator);cursor:pointer;transition:background-color var(--duration-fast) var(--ease-smooth)}
.list-item:last-child{border-bottom:none}
.list-item:active{background:var(--fill-tertiary)}
.list-item-icon{width:32px;height:32px;border-radius:var(--radius-sm);background:var(--fill-tertiary);display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0}
.list-item-content{flex:1;min-width:0}
.list-item-title{font-size:var(--font-size-body);font-weight:500}
.list-item-subtitle{font-size:var(--font-size-footnote);color:var(--label-secondary);margin-top:2px}
.list-item-accessory{flex-shrink:0}
.list-item-chevron{font-size:18px;color:var(--label-quaternary);font-weight:300}

/* Stats */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}
.stat-card{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-md);text-align:center;box-shadow:var(--shadow-card);animation:fadeIn var(--duration-normal) var(--ease-smooth) both}
.stat-icon{width:44px;height:44px;border-radius:var(--radius-md);margin:0 auto var(--spacing-sm);display:flex;align-items:center;justify-content:center;font-size:22px}
.stat-icon.blue{background:rgba(0,122,255,0.12)}
.stat-icon.green{background:rgba(52,199,89,0.12)}
.stat-icon.orange{background:rgba(255,149,0,0.12)}
.stat-icon.purple{background:rgba(175,82,222,0.12)}
.stat-icon.red{background:rgba(255,59,48,0.12)}
.stat-value{font-size:var(--font-size-title2);font-weight:700;letter-spacing:-0.02em}
.stat-label{font-size:var(--font-size-caption);color:var(--label-secondary);margin-top:2px}

/* Sections */
.section{margin-bottom:var(--spacing-lg);animation:fadeIn var(--duration-normal) var(--ease-smooth) both}
.section-title{font-size:var(--font-size-title3);font-weight:700;margin-bottom:var(--spacing-md);letter-spacing:-0.02em}
.grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-lg)}

/* Badges */
.badge{display:inline-flex;align-items:center;padding:3px 8px;font-size:var(--font-size-caption);font-weight:600;border-radius:var(--radius-sm);background:var(--fill-tertiary);color:var(--label-secondary)}
.badge-blue{background:rgba(0,122,255,0.12);color:var(--ios-blue)}
.badge-green{background:rgba(52,199,89,0.12);color:var(--ios-green)}
.badge-orange{background:rgba(255,149,0,0.12);color:var(--ios-orange)}
.badge-red{background:rgba(255,59,48,0.12);color:var(--ios-red)}
.badge-purple{background:rgba(175,82,222,0.12);color:var(--ios-purple)}

/* Filter Tabs */
.filter-tabs{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--fill-tertiary);border-radius:var(--radius-md);overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none;margin-bottom:var(--spacing-md)}
.filter-tabs::-webkit-scrollbar{display:none}
.filter-tab{flex-shrink:0;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-footnote);font-weight:600;color:var(--label-secondary);background:transparent;border:none;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--duration-fast) var(--ease-smooth);white-space:nowrap}
.filter-tab:active{transform:scale(0.96)}
.filter-tab.active{background:var(--bg-secondary);color:var(--ios-blue);box-shadow:var(--shadow-sm)}

/* Modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.4);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:2000;padding:var(--spacing-md);animation:fadeIn var(--duration-fast) var(--ease-smooth)}
.modal{width:100%;max-width:420px;max-height:90vh;background:var(--bg-secondary);border-radius:var(--radius-xl);overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow-lg);animation:scaleIn var(--duration-normal) var(--ease-bounce)}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md);border-bottom:1px solid var(--separator)}
.modal-title{font-size:var(--font-size-body);font-weight:600}
.modal-close{width:28px;height:28px;border-radius:var(--radius-full);border:none;background:var(--fill-tertiary);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--label-secondary);transition:transform var(--duration-fast) var(--ease-bounce)}
.modal-close:active{transform:scale(0.9)}
.modal-body{padding:var(--spacing-md);overflow-y:auto;flex:1}
.modal-footer{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md);border-top:1px solid var(--separator)}
.modal-footer .btn{flex:1}

/* Notifications */
.notification-container{position:fixed;top:calc(var(--spacing-md) + var(--safe-area-top));left:var(--spacing-md);right:var(--spacing-md);z-index:3000;display:flex;flex-direction:column;gap:var(--spacing-sm);pointer-events:none}
.notification{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);animation:slideDown var(--duration-normal) var(--ease-bounce);pointer-events:auto;cursor:pointer}
.notification-icon{width:32px;height:32px;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;font-size:14px;color:white;flex-shrink:0}
.notification-success .notification-icon{background:var(--ios-green)}
.notification-error .notification-icon{background:var(--ios-red)}
.notification-warning .notification-icon{background:var(--ios-orange)}
.notification-info .notification-icon{background:var(--ios-blue)}
.notification-content{flex:1;min-width:0}
.notification-title{font-size:var(--font-size-subhead);font-weight:600}
.notification-message{font-size:var(--font-size-footnote);color:var(--label-secondary)}

/* Empty State */
.empty-state{text-align:center;padding:var(--spacing-xl) var(--spacing-md)}
.empty-state.small{padding:var(--spacing-lg) var(--spacing-md)}
.empty-state-icon{font-size:48px;margin-bottom:var(--spacing-md);animation:float 3s ease-in-out infinite}
.empty-state.small .empty-state-icon{font-size:36px}
.empty-state-title{font-size:var(--font-size-title3);font-weight:700;margin-bottom:var(--spacing-sm)}
.empty-state-text{font-size:var(--font-size-subhead);color:var(--label-secondary);margin-bottom:var(--spacing-md)}

/* Login */
.login-page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:var(--spacing-md);background:linear-gradient(135deg,var(--bg-primary) 0%,var(--bg-tertiary) 100%)}
.login-card{width:100%;max-width:400px;background:var(--bg-secondary);border-radius:var(--radius-xl);padding:var(--spacing-xl);box-shadow:var(--shadow-lg);animation:scaleIn 0.35s var(--ease-bounce)}
.login-logo{text-align:center;margin-bottom:var(--spacing-lg)}
.login-logo-icon{width:80px;height:80px;margin:0 auto var(--spacing-md);background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));border-radius:var(--radius-xl);display:flex;align-items:center;justify-content:center;font-size:40px;box-shadow:var(--shadow-md)}
.login-logo h1{font-size:var(--font-size-title1);font-weight:700;letter-spacing:-0.02em}
.login-logo p{font-size:var(--font-size-subhead);color:var(--label-secondary);margin-top:4px}
.login-tabs{display:flex;background:var(--fill-tertiary);border-radius:var(--radius-md);padding:4px;margin-bottom:var(--spacing-lg)}
.login-tab{flex:1;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-subhead);font-weight:600;color:var(--label-secondary);background:transparent;border:none;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--duration-fast) var(--ease-smooth)}
.login-tab.active{background:var(--bg-secondary);color:var(--ios-blue);box-shadow:var(--shadow-sm)}
.login-form{display:flex;flex-direction:column;gap:var(--spacing-md)}
.error-alert,.success-alert{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);border-radius:var(--radius-md);font-size:var(--font-size-footnote);margin-bottom:var(--spacing-md);animation:shake var(--duration-normal) var(--ease-smooth)}
.error-alert{background:rgba(255,59,48,0.1);color:var(--ios-red)}
.success-alert{background:rgba(52,199,89,0.1);color:var(--ios-green);animation:fadeIn var(--duration-normal) var(--ease-smooth)}
.demo-credentials{margin-top:var(--spacing-lg);padding:var(--spacing-md);background:var(--fill-tertiary);border-radius:var(--radius-md)}
.demo-credentials-title{font-size:var(--font-size-footnote);font-weight:600;color:var(--label-secondary);margin-bottom:var(--spacing-sm)}
.demo-credentials-list{display:flex;flex-direction:column;gap:6px}
.demo-credential{font-size:var(--font-size-caption);color:var(--label-tertiary)}
.demo-label{font-weight:500;color:var(--label-secondary)}
.demo-credential code{font-family:'SF Mono',Monaco,monospace;background:var(--fill-secondary);padding:2px 6px;border-radius:4px;font-size:11px}

/* Schedule */
.schedule-group-selector{margin-bottom:var(--spacing-md)}
.schedule-group-info{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-secondary);border-radius:var(--radius-lg);margin-bottom:var(--spacing-md)}
.schedule-group-name{font-size:var(--font-size-body);font-weight:600}
.schedule-group-faculty{font-size:var(--font-size-footnote);color:var(--label-secondary)}
.schedule-day-title{font-size:var(--font-size-body);font-weight:600;color:var(--label-secondary);margin-bottom:var(--spacing-md);text-align:center}
.schedule-list{display:flex;flex-direction:column;gap:var(--spacing-sm)}
.schedule-item{display:flex;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-secondary);border-radius:var(--radius-lg);cursor:pointer;transition:transform var(--duration-fast) var(--ease-smooth);animation:fadeIn var(--duration-normal) var(--ease-smooth) both}
.schedule-item:active{transform:scale(0.98)}
.schedule-time{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:60px;padding-right:var(--spacing-md);border-right:2px solid var(--ios-blue)}
.schedule-time-start{font-size:var(--font-size-body);font-weight:600}
.schedule-time-end{font-size:var(--font-size-caption);color:var(--label-tertiary)}
.schedule-content{flex:1}
.schedule-subject{font-size:var(--font-size-body);font-weight:600;margin-bottom:4px}
.schedule-details{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);font-size:var(--font-size-caption);color:var(--label-secondary)}
.schedule-type-badge{padding:2px 8px;background:var(--fill-tertiary);border-radius:4px;font-weight:500}
.schedule-delete{width:28px;height:28px;border-radius:var(--radius-full);border:none;background:rgba(255,59,48,0.1);color:var(--ios-red);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform var(--duration-fast) var(--ease-bounce);align-self:center}
.schedule-delete:active{transform:scale(0.9)}

/* Structure */
.structure-list{display:flex;flex-direction:column;gap:var(--spacing-sm)}
.structure-item{background:var(--bg-secondary);border-radius:var(--radius-lg);overflow:hidden;animation:fadeIn var(--duration-normal) var(--ease-smooth) both}
.structure-header{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);cursor:pointer;transition:background-color var(--duration-fast) var(--ease-smooth)}
.structure-header:active{background:var(--fill-tertiary)}
.structure-expand{font-size:10px;color:var(--label-tertiary);width:16px;transition:transform var(--duration-fast) var(--ease-smooth)}
.structure-icon{font-size:24px}
.structure-info{flex:1;min-width:0}
.structure-name{font-size:var(--font-size-body);font-weight:600}
.structure-meta{display:flex;gap:var(--spacing-sm);font-size:var(--font-size-caption);color:var(--label-secondary);margin-top:2px}
.structure-code{padding:2px 6px;background:var(--fill-tertiary);border-radius:4px;font-weight:500}
.structure-actions{display:flex;gap:var(--spacing-xs)}
.structure-btn{width:28px;height:28px;border-radius:var(--radius-full);border:none;background:var(--fill-tertiary);font-size:12px;cursor:pointer;transition:transform var(--duration-fast) var(--ease-bounce)}
.structure-btn:active{transform:scale(0.9)}
.structure-btn.delete{background:rgba(255,59,48,0.1)}
.structure-children{padding:0 var(--spacing-md) var(--spacing-md);padding-left:calc(var(--spacing-md) + 32px)}
.structure-add-btn{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--fill-tertiary);border:none;border-radius:var(--radius-sm);font-size:var(--font-size-footnote);font-weight:500;color:var(--ios-blue);cursor:pointer;margin-bottom:var(--spacing-sm);transition:background-color var(--duration-fast) var(--ease-smooth)}
.structure-add-btn:active{background:var(--fill-secondary)}
.structure-empty{font-size:var(--font-size-footnote);color:var(--label-tertiary);text-align:center;padding:var(--spacing-md)}
.direction-item,.group-item{background:var(--fill-tertiary);margin-top:var(--spacing-sm)}
.group-item .structure-header{padding:var(--spacing-sm) var(--spacing-md)}
.group-item .structure-icon{font-size:18px}

/* Users */
.users-list{display:flex;flex-direction:column;gap:var(--spacing-sm)}
.user-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-secondary);border-radius:var(--radius-lg);cursor:pointer;animation:fadeIn var(--duration-normal) var(--ease-smooth) both;transition:transform var(--duration-fast) var(--ease-smooth)}
.user-item:active{transform:scale(0.98)}
.user-avatar-large{width:48px;height:48px;border-radius:var(--radius-full);background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));display:flex;align-items:center;justify-content:center;color:white;font-size:var(--font-size-subhead);font-weight:600;flex-shrink:0}
.user-details{flex:1;min-width:0}
.user-name-row{display:flex;align-items:center;gap:var(--spacing-sm)}
.user-full-name{font-size:var(--font-size-body);font-weight:600}
.user-email{font-size:var(--font-size-footnote);color:var(--label-secondary);margin-top:2px}
.user-group{font-size:var(--font-size-caption);color:var(--label-tertiary);margin-top:2px}
.user-delete-btn{width:32px;height:32px;border-radius:var(--radius-full);border:none;background:rgba(255,59,48,0.1);font-size:14px;cursor:pointer;transition:transform var(--duration-fast) var(--ease-bounce)}
.user-delete-btn:active{transform:scale(0.9)}

/* Profile */
.profile-header{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--spacing-xl);background:var(--bg-secondary);border-radius:var(--radius-xl);margin-bottom:var(--spacing-lg)}
.profile-avatar{width:96px;height:96px;border-radius:var(--radius-full);background:linear-gradient(135deg,var(--ios-blue),var(--ios-purple));display:flex;align-items:center;justify-content:center;color:white;font-size:var(--font-size-title1);font-weight:700;margin-bottom:var(--spacing-md);box-shadow:var(--shadow-md)}
.profile-info{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm)}
.profile-name{font-size:var(--font-size-title2);font-weight:700}
.profile-email{font-size:var(--font-size-subhead);color:var(--label-secondary)}
.profile-actions{margin-top:var(--spacing-lg)}

/* Info Banner */
.info-banner{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:linear-gradient(135deg,rgba(0,122,255,0.1),rgba(88,86,214,0.1));border-radius:var(--radius-lg);margin-bottom:var(--spacing-lg)}
.info-banner-icon{font-size:32px}
.info-banner-title{font-size:var(--font-size-body);font-weight:600}
.info-banner-subtitle{font-size:var(--font-size-footnote);color:var(--label-secondary)}

/* Offline Banner */
.offline-banner{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--ios-orange);color:white;font-size:var(--font-size-footnote);font-weight:500}

/* Icon Picker */
.icon-picker{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}
.icon-option{width:44px;height:44px;border-radius:var(--radius-md);border:2px solid transparent;background:var(--fill-tertiary);font-size:20px;cursor:pointer;transition:all var(--duration-fast) var(--ease-smooth)}
.icon-option:active{transform:scale(0.95)}
.icon-option.active{border-color:var(--ios-blue);background:rgba(0,122,255,0.1)}

/* Loading */
.loading-spinner{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:var(--spacing-md)}
.spinner{width:32px;height:32px;border:3px solid var(--fill-tertiary);border-top-color:var(--ios-blue);border-radius:var(--radius-full);animation:spin 0.8s linear infinite}
.loading-text{font-size:var(--font-size-subhead);color:var(--label-secondary)}

/* Skeleton */
.skeleton{background:linear-gradient(90deg,var(--fill-tertiary) 25%,var(--fill-secondary) 50%,var(--fill-tertiary) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-sm)}
.skeleton-card{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-md)}
.skeleton-row{display:flex;gap:var(--spacing-md)}
.skeleton-circle{width:48px;height:48px;border-radius:var(--radius-full);flex-shrink:0}
.skeleton-line{height:14px}
.skeleton-line.short{width:40%}
.skeleton-line.medium{width:60%}
.skeleton-line.long{width:80%}

/* Pull to Refresh */
.ptr-container{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}
.ptr-indicator{display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--label-tertiary);overflow:hidden}

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes scaleIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
@keyframes slideDown{from{opacity:0;transform:translateY(-16px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@keyframes popIn{0%{opacity:0;transform:scale(0)}70%{transform:scale(1.2)}100%{opacity:1;transform:scale(1)}}
@keyframes shake{0%,100%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-4px)}80%{transform:translateX(4px)}}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

/* Reduced Motion */
@media(prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}.card,.modal,.tab-bar,.notification{will-change:auto}}

/* Print */
@media print{.sidebar,.tab-bar,.mobile-page-header{display:none !important}.page-content{padding:0}.card{break-inside:avoid;box-shadow:none;border:1px solid #ddd}}
